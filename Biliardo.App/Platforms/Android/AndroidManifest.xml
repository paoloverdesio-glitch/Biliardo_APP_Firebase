<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          xmlns:tools="http://schemas.android.com/tools"
          package="com.biliardoapp.biliardo">

	<!-- =======================
       PERMESSI RETE
       ======================= -->
	<uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

	<!-- =======================
       PERMESSI CAMERA / AUDIO
       ======================= -->
	<uses-permission android:name="android.permission.CAMERA" />
	<uses-permission android:name="android.permission.RECORD_AUDIO" />

	<!-- =======================
       PERMESSI GPS / POSIZIONE
       ======================= -->
	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	<!-- Necessario SOLO se vuoi posizione anche quando l’app è in background (Android 10+) -->
	<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />

	<!-- =======================
       NOTIFICHE / ENERGIA
       ======================= -->
	<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
	<uses-permission android:name="android.permission.VIBRATE" />
	<uses-permission android:name="android.permission.WAKE_LOCK" />

	<!-- Facoltativi ma utili se vuoi tenere vivo un servizio e/o ripartire a boot -->
	<uses-permission android:name="android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS" />
	<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />

	<!-- =======================
       FOREGROUND SERVICE (per operare con schermo bloccato / app swipata)
       ======================= -->
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_LOCATION" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_CAMERA" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_MICROPHONE" />
	<!-- opzionali, ma spesso utili in app “sensori/telemetria” -->
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_CONNECTED_DEVICE" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_DATA_SYNC" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_HEALTH" />

	<!-- =======================
       SENSORI (nota: accel/gyro/magnetometro NON richiedono permessi runtime)
       ======================= -->
	<!-- Necessario su alcuni casi/target per frequenze di campionamento elevate -->
	<uses-permission android:name="android.permission.HIGH_SAMPLING_RATE_SENSORS" />
	<!-- Per sensori “fitness”/riconoscimento attività -->
	<uses-permission android:name="android.permission.ACTIVITY_RECOGNITION" />
	<!-- Per sensori “BODY” (es. battito). Per accel/gyro/mag non serve. -->
	<uses-permission android:name="android.permission.BODY_SENSORS" />
	<!-- Necessario solo se vuoi BODY sensors anche in background (Android 13–15) -->
	<uses-permission android:name="android.permission.BODY_SENSORS_BACKGROUND" />

	<!-- =======================
       FCM / C2DM (legacy, ma non rompe)
       ======================= -->
	<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />

	<!-- =======================
       FEATURE HW (metto required=false per non bloccare installazione su device senza sensore)
       ======================= -->
	<uses-feature android:name="android.hardware.location.gps" android:required="false" />
	<uses-feature android:name="android.hardware.camera.any" android:required="false" />
	<uses-feature android:name="android.hardware.microphone" android:required="false" />
	<uses-feature android:name="android.hardware.sensor.accelerometer" android:required="false" />
	<uses-feature android:name="android.hardware.sensor.gyroscope" android:required="false" />
	<uses-feature android:name="android.hardware.sensor.compass" android:required="false" />

	<application
		android:allowBackup="true"
		android:supportsRtl="true"
		android:label="Biliardo"
		android:icon="@android:drawable/sym_def_app_icon">

		<!--
        IMPORTANTE (BACKGROUND REALE):
        Per leggere sensori con telefono bloccato / app in background devi usare un FOREGROUND SERVICE
        e dichiarare android:foregroundServiceType con i tipi corretti. Esempio (ADATTA IL NOME CLASSE):

        <service
            android:name="com.biliardoapp.biliardo.ForegroundSensorService"
            android:exported="false"
            android:foregroundServiceType="location|microphone|camera|health|connectedDevice|dataSync" />
      -->

	</application>

</manifest>
